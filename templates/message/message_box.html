{% extends "base/diary_base.html" %}
{% load static %}
{% block body %}

<div class="page-container">

    <!-- タイトルカード -->
    <div class="intro-card">
        <h2 class="page-title">メッセージボックス</h2>
        <p class="page-description">
            これまでに届いたメッセージ一覧です。
        </p>
    </div>

    {% if messages %}
    {% for message in messages %}
    <div class="post block">

        <p class="post-author">
            From：{{ message.sender.username }}
        </p>

        

        <p class="post-body">
            {{ message.content|linebreaksbr }}
        </p>

        <small class="post-date">
            {{ message.sent_at|date:"Y/m/d H:i" }}
        </small>

        <div style="margin-top: 12px;">
            <a href="{% url 'user_messages:send_message' username=message.sender.username %}" class="submit-btn">
                返信する
            </a>
        </div>

    </div>
    {% endfor %}
    {% else %}
    <div class="post block">
        <p>まだメッセージはありません。</p>
    </div>
    {% endif %}

</div>

{% endblock %}