{% extends "base/diary_base.html" %}
{% load youtube_extras %}
{% load static %}

{% block body %}
<link rel="stylesheet" href="{% static 'blog/css/blog.css' %}">


<h2 class="page-title">å£ã‚’é–‹ã</h2>
<p class="page-description">
    ã“ã“ã¯ã€ã‚ãªãŸã®è¨€è‘‰ã‚„æ°—æŒã¡ã‚’ãã£ã¨ç½®ã„ã¦ã„ãå ´æ‰€ã§ã™ã€‚<br>
    æ–‡ç« ãƒ»ç”»åƒãƒ»å‹•ç”»ã€ã©ã‚Œã§ã‚‚å¤§ä¸ˆå¤«ã§ã™ã€‚
</p>
<div class="post-form-card">
    <form method="post" enctype="multipart/form-data" class="post-form">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="submit-btn">å£ã‚’ã¨ã˜ã‚‹</button>
    </form>
</div>
    <div class="notification is-light video-guide">
        <strong>ğŸ“¹ å‹•ç”»ã®è²¼ã‚Šæ–¹ï¼ˆã™ã¹ã¦å…±é€šï¼‰</strong><br><br>
    
        æ¬¡ã®ã‚µãƒ¼ãƒ“ã‚¹ã®å‹•ç”»URLã‚’ã€ãã®ã¾ã¾è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚<br><br>
    
        <ul>
            <li>â–¶ YouTube</li>
            <li>â–¶ Xï¼ˆæ—§Twitterï¼‰</li>
            <li>â–¶ Instagram</li>
            <li>â–¶ TikTok</li>
            <li>â–¶ Facebook</li>
        </ul>
    
        <strong>ã‚„ã‚Šæ–¹ï¼š</strong><br>
        â‘  è¦‹ã›ãŸã„å‹•ç”»ã‚’é–‹ã<br>
        â‘¡ ã€Œå…±æœ‰ã€ã¾ãŸã¯ã€Œãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ã€ã‚’æŠ¼ã™<br>
        â‘¢ è¡¨ç¤ºã•ã‚ŒãŸURLã‚’ãã®ã¾ã¾è²¼ã‚‹<br><br>
    
        â€» é™å®šå…¬é–‹ãƒ»éå…¬é–‹è¨­å®šã§ã‚‚OKãªå ´åˆãŒã‚ã‚Šã¾ã™ã€‚
    </div>
</form>

{% for post in posts %}

<a href="{% url 'blog:post_detail' slug=post.slug %}">{{ post.title }}</a>

<div class="post block">
    <!-- æŠ•ç¨¿è€…å -->
    <p><strong>æŠ•ç¨¿è€…: </strong>{{ post.name }}</p>

    <h2 class="subtitle">{{ post.title }}</h2>
    <small>Posted at {{ post.posted_date }}</small>

<p>{{ post.body|truncatechars:120 }}</p>

    <!-- ğŸ”½ ç”»åƒã‚µãƒ ãƒ -->
    {% if post.image and post.image.name %}
    <img src="{{ post.image.url }}" class="comment-media-thumb">
    {% endif %}

    <!-- ğŸ”½ å‹•ç”»ã‚µãƒ ãƒ -->
    {% include "blog/video_embed.html" with video_url=post.video_url %}
        
    <a class="read-more" href="{% url 'blog:post_detail' slug=post.slug %}">
        ã‚‚ã£ã¨èª­ã‚€
        <span class="comment-count">
            ğŸ’¬ {{ post.comment_count }}
        </span>
    </a>
</div>

{% endfor %}

<!-- ğŸ”½ ãƒ¡ãƒ‡ã‚£ã‚¢è¡¨ç¤ºç”¨ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆå¿…é ˆï¼‰ -->
<div id="media-modal" class="media-modal" onclick="closeMedia()">
    <div id="media-content"></div>
</div>

<script src="{% static 'blog/js/blog.js' %}"></script>

<script async src="https://www.tiktok.com/embed.js"></script>
<script async src="//www.instagram.com/embed.js"></script>
<script async src="https://platform.twitter.com/widgets.js"></script>

{% endblock %}