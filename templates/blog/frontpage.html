{% extends "base/diary_base.html" %}
{% load youtube_extras %}
{% load static %}

{% block body %}
<link rel="stylesheet" href="{% static 'blog/css/blog.css' %}">

<p class="post-content">
    {{ post.content|linebreaksbr }}
</p>

<div class="intro-card">
    <h2 class="page-title">å£ã‚’é–‹ã</h2>
    <p class="page-description">
        ã“ã“ã¯ã€ã‚ãªãŸã®è¨€è‘‰ã‚„æ°—æŒã¡ã‚’ãã£ã¨ç½®ã„ã¦ã„ãå ´æ‰€ã§ã™ã€‚<br>
        æ–‡ç« ãƒ»ç”»åƒãƒ»å‹•ç”»ã€ã©ã‚Œã§ã‚‚å¤§ä¸ˆå¤«ã§ã™ã€‚
    </p>
</div>

<div class="post-form-card">
    <form method="post" action="{% url 'blog:frontpage' %}" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="submit-btn">å£ã‚’ã¨ã˜ã‚‹</button>
    </form>
</div>

    <div class="info-card video-guide">
        <h3 class="info-title">ğŸ“¹ å‹•ç”»ã®è²¼ã‚Šæ–¹ï¼ˆã™ã¹ã¦å…±é€šï¼‰</h3>
    
        <p class="info-text">
            æ¬¡ã®ã‚µãƒ¼ãƒ“ã‚¹ã®å‹•ç”»URLã‚’ã€ãã®ã¾ã¾è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚
        </p>
    
        <ul class="service-list">
            <li>YouTube</li>
            <li>Xï¼ˆæ—§Twitterï¼‰</li>
            <li>Instagram</li>
            <li>TikTok</li>
            <li>Facebook</li>
        </ul>
    
        <div class="steps">
            <p><strong>ã‚„ã‚Šæ–¹</strong></p>
            <ol>
                <li>è¦‹ã›ãŸã„å‹•ç”»ã‚’é–‹ã</li>
                <li>ã€Œå…±æœ‰ã€â†’ã€Œãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ã€</li>
                <li>URLã‚’ãã®ã¾ã¾è²¼ã‚Šä»˜ã‘ã‚‹</li>
            </ol>
        </div>
    
        <p class="note">
            â€» é™å®šå…¬é–‹ãƒ»éå…¬é–‹è¨­å®šã§ã‚‚OKãªå ´åˆãŒã‚ã‚Šã¾ã™ã€‚
        </p>
    </div>

{% for post in posts %}

<div class="post block">
    <!-- æŠ•ç¨¿è€…å -->
    <p class="post-author">
    æŠ•ç¨¿è€…ï¼š{{ post.name }}
    </p>

    <h2 class="subtitle">{{ post.title }}</h2>
    <small>Posted at {{ post.posted_date }}</small>

    <!-- âœ… æ”¹è¡Œã‚’åæ˜ ã•ã›ã‚‹æœ¬æ–‡è¡¨ç¤º -->
        <p class="post-content">
            {{ post.body|truncatechars:120|linebreaksbr }}</p>
        </p>
        
    <!-- ğŸ”½ ç”»åƒã‚µãƒ ãƒ -->
    {% if post.image %}
    <img src="{{ post.image.url }}" class="comment-media-thumb">
    {% endif %}

    <!-- ğŸ”½ å‹•ç”»ã‚µãƒ ãƒ -->
    {% include "blog/video_embed.html" with video_url=post.video_url %}
        
    {% if post.slug %}
        <a href="{% url 'blog:post_detail' slug=post.slug %}">
            ã‚‚ã£ã¨èª­ã‚€
            <span class="comment-count">
                ğŸ’¬ {{ post.comment_count }}
            </span>
        </a>
    {% endif %}
</div>

{% endfor %}

<!-- ğŸ”½ ãƒ¡ãƒ‡ã‚£ã‚¢è¡¨ç¤ºç”¨ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆå¿…é ˆï¼‰ -->
<div id="media-modal" class="media-modal" onclick="closeMedia()">
    <div id="media-content"></div>
</div>

<script src="{% static 'blog/js/blog.js' %}"></script>

<script async src="https://www.tiktok.com/embed.js"></script>
<script async src="//www.instagram.com/embed.js"></script>
<script async src="https://platform.twitter.com/widgets.js"></script>

{% endblock %}